<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.54">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px Monaco; color: #ba0000}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Monaco; color: #ba0000}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Monaco; min-height: 17.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #ba0000}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #ba0000; min-height: 12.0px}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
span.s1 {color: #000000}
span.s2 {color: #0000c4}
span.s3 {color: #ba0000}
span.s4 {color: #606060}
span.s5 {text-decoration: underline ; color: #0000f4}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1">///////////////////////////// OBJECT CREATION, sending messages to IanniX ////////////////////////////////</p>
<p class="p2">//please start from an empty score in Iannix app.</p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p3"><br></p>
<p class="p4"><span class="s1">~inx = </span><span class="s2">Iannix</span><span class="s1">.new;</span>// localhost by default</p>
<p class="p4">/* //another machine:</p>
<p class="p4">~inx = Iannix("192.168.0.49", 1234);//port must be Iannix app. input port (default: 1234)</p>
<p class="p4">*/<span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4">//~inx.connect("192.168.0.49", 1234); //alternative: connect an existing Iannix instance to another Iannix port, and listen to iannix transports</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~inx.resetScore(zoom: 300, total: </span><span class="s2">true</span><span class="s1">); </span>//just in case... ( ! deletes everything in the Iannix application score !)</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p5"><br></p>
<p class="p4">// At instantiation time, a Iannix instance builds an object dictionary, using their ID as keys</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p6">~line = ~inx.curve([[1, 2, 0], [2,3,-1], [3, 0, 2], 8@10]); <span class="s3">//four Points (1@2 is a shortcut<span class="Apple-converted-space">  </span>for Point(1, 2);</span></p>
<p class="p5"><br></p>
<p class="p6">(</p>
<p class="p6">~line2 = ~inx.curve([</p>
<p class="p6"><span class="Apple-tab-span">	</span>[-4, -1],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span>[-2, 1],</p>
<p class="p4"><span class="s1"><span class="Apple-tab-span">	</span>[[1, 1], [2, 2, 0, 2]], </span>//2D beziers line: xy values, and 4 beziers points ( 2 start tangent values + 2 end tangent values)</p>
<p class="p6"><span class="Apple-tab-span">	</span>[1, -1, 2],<span class="Apple-converted-space">  </span><span class="s3">//3D point</span></p>
<p class="p4"><span class="s1"><span class="Apple-tab-span">	</span>[[-4 ,-1,<span class="Apple-converted-space">  </span>0], [ 0, -2,<span class="Apple-converted-space">  </span>2 , 5, 0, 0]] </span>//3D bezier line: xyz values, and 6 beziers points ( 3 start tangent values + 3 end tangent values)</p>
<p class="p5"><br></p>
<p class="p6">])<span class="Apple-converted-space"> </span></p>
<p class="p5"><br></p>
<p class="p6">)</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p6">~line2.label_(<span class="s4">"line"</span>+ ~line2.id);</p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~line2.id; </span>//get this line id</p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~inx.objects; </span>//the<span class="Apple-converted-space">  </span>object dictionnary is filled in...</p>
<p class="p4"><span class="s1">~line.remove; </span>//remove this curve</p>
<p class="p4"><span class="s1">~line2.remove; </span>// and the other one</p>
<p class="p5"><br></p>
<p class="p4">//3 point creation examples:</p>
<p class="p4"><span class="s1">~points = 10.collect {</span><span class="s2">|x|</span><span class="s1"> (x+1)@5.0.rand2 }; </span>//some points, related to<span class="Apple-converted-space">  </span>x += 1, using Point instances</p>
<p class="p6">~points = 10.collect {<span class="s2">|x|</span> [(x+1), 5.0.rand2, 5.rand2] }; <span class="s3">//points as arrays of coordinates, using the z plane</span></p>
<p class="p6">~points = 10.collect {<span class="s2">|x|</span> [[(x+1), 5.0.rand2, 5.rand2], {rrand(-4, 4)}!6]}; <span class="s3">//idem, with beziers</span></p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~line = ~inx.curve; </span>//without points for now;</p>
<p class="p4"><span class="s1">~line.points_(pointsArray: ~points); </span>//adding points, or modifying existing points</p>
<p class="p6">~line.group_(<span class="s4">"supacollida"</span>);<span class="Apple-converted-space"> </span></p>
<p class="p5"><br></p>
<p class="p6">~curs = ~inx.cursor(~line); <span class="s3">//put a cursor on the line</span></p>
<p class="p4"><span class="s1">~line.childs; </span>// the just created cursor</p>
<p class="p4"><span class="s1"><span class="Apple-converted-space"> </span>~curs.duration_(10); </span>// the time for this cursor to reach the end of the curve, in seconds</p>
<p class="p4"><span class="s1">~curs.width_(5).size_(4 ); </span>//changing some specifications</p>
<p class="p6">~curs.label_(<span class="s4">"I'm here"</span>);</p>
<p class="p4"><span class="s1">~curs.active(</span><span class="s2">false</span><span class="s1">); </span>//true by default, false for object inactivation</p>
<p class="p6">~curs.active(<span class="s2">true</span>); <span class="s3">//actived again</span></p>
<p class="p4"><span class="s1">~curs.loopPattern_([1, -1, 2, -4]); </span>//speed array, negative value for reverse speed</p>
<p class="p6">~curs.group_(<span class="s4">"supacollida"</span>);<span class="Apple-converted-space"> </span></p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~inx.activate(</span><span class="s4">"supacollida"</span><span class="s1">, </span><span class="s2">false</span><span class="s1">) ; </span>// deactivating<span class="Apple-converted-space">  </span>a group (so all objects inside this group)</p>
<p class="p4"><span class="s1">~inx.activate(</span><span class="s4">"supacollida"</span><span class="s1">) ; </span>// reactivating a group</p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~inx.remove(</span><span class="s4">"supacollida"</span><span class="s1">); </span>//remove all objects affected to this group</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~line.points_(5.collect {</span><span class="s2">|x|</span><span class="s1"> (x+1)@5.0.rand2 });</span>// random change of the 5 first points of this line;</p>
<p class="p5"><br></p>
<p class="p6">~line.width_(10);</p>
<p class="p6">~line.lineStyle_(0x0F00);</p>
<p class="p6">~line.lineStyle_(<span class="s2">nil</span>); <span class="s3">//as reset to plain</span></p>
<p class="p6">~curs.lineStyle_(0x0F00)<span class="Apple-converted-space"> </span></p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~line.remove; </span>//also remove its child, if any</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p6">~line = ~inx.curve.fromSVGpath2([1@1, 1@2,<span class="Apple-converted-space">  </span>-1@2,<span class="Apple-converted-space">  </span>-1 @ -2, -2@0], 1);</p>
<p class="p5"><br></p>
<p class="p6">~line.fromImage(<span class="s2">Document</span>.current.dir++<span class="s4">"\/SCcube.png"</span>, 0.03); <span class="s3">//wait a little...</span></p>
<p class="p6">~inx.zoom(300);</p>
<p class="p5"><br></p>
<p class="p6">~line.position_(2, 3, -10);</p>
<p class="p6">~line.color_(<span class="s2">Color</span>.red);</p>
<p class="p6">~curs.color_(<span class="s2">Color</span>.blue);</p>
<p class="p4"><span class="s1">~curs.allMessages; </span>// the<span class="Apple-converted-space">  </span>arguments this object will send from Iannix app , i.e<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="s1">~curs.messages_([</span><span class="s4">"cursor_value_x"</span><span class="s1">, </span><span class="s4">"cursor_value_y"</span><span class="s1">])<span class="Apple-converted-space">  </span></span>//add two valid arguments to the Iannix app messages for this object</p>
<p class="p7"><br></p>
<p class="p5"><br></p>
<p class="p4"><span class="s1">~inx.rotate(x:45, y: 30, z: 100) ; </span>// rotation of the score: changing the point of view</p>
<p class="p4"><span class="s1">~inx.rotate;<span class="Apple-converted-space">  </span></span>//restoring default view</p>
<p class="p4"><span class="s1">~inx.resetScore(300); </span>//remove anything created from sclang</p>
<p class="p5"><br></p>
<p class="p6">10.do { ~inx.trigger(10.rand, 10.rand, 10.rand).color_(<span class="s2">Color</span>.rand) };<span class="Apple-converted-space">  </span><span class="s3">//10 triggers on the xyz planes</span></p>
<p class="p5"><br></p>
<p class="p4">//see <a href="../IannixObject.html"><span class="s5">IannixObject</span></a>,<span class="Apple-converted-space">  </span><a href="../IannixCursor.html"><span class="s5">IannixCursor</span></a>,<span class="Apple-converted-space">  </span><a href="../IannixCurve.html"><span class="s5">IannixCurve</span></a> et <a href="../IannixTrigger.html"><span class="s5">IannixTrigger</span></a> for more details on those objects</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p4">//Info on existing objects in Iannix app (still buggy)</p>
<p class="p6">~inx.info;<span class="Apple-converted-space"> </span></p>
<p class="p4">//transport</p>
<p class="p6">~inx.play;</p>
<p class="p6">~inx.play(speed:3);</p>
<p class="p6">~inx.play(speed:-1); <span class="s3">//reverse</span></p>
<p class="p5"><br></p>
<p class="p6">~inx.stop;</p>
<p class="p6">~inx.fastrewind;</p>
<p class="p6">~inx.speed_(0.4);</p>
<p class="p5"><br></p>
<p class="p6">(<span class="Apple-converted-space"> </span></p>
<p class="p4">//glyph, depuis un<span class="Apple-converted-space">  </span>score vide dans Iannix.app</p>
<p class="p5"><br></p>
<p class="p6">~inx !? {~inx.removeAll(<span class="s2">true</span>) };</p>
<p class="p6">~inx = <span class="s2">Iannix</span>.new;</p>
<p class="p6">~inx.zoom(500);</p>
<p class="p6">~inx.center(10);</p>
<p class="p6">~xPos = 0; ~dist = 3;</p>
<p class="p8">"supacollida"<span class="s1">.do {</span><span class="s2">|char|</span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="s2">var</span> ln;</p>
<p class="p6"><span class="Apple-tab-span">	</span>~xPos = ~dist + ~xPos;</p>
<p class="p6"><span class="Apple-tab-span">	</span>char = char.asString;</p>
<p class="p6"><span class="Apple-tab-span">	</span>ln =<span class="Apple-converted-space">  </span>~inx.curve.fromText(char, 0.1, <span class="s4">"Arial"</span>).position_(~xPos).width_(3).color_(<span class="s2">Color</span>.rand);</p>
<p class="p6"><span class="Apple-tab-span">	</span>if ((char==<span class="s4">"i"</span>) || (char==<span class="s4">"l"</span>)) {~dist = 1.5}{~dist = 3};</p>
<p class="p6"><span class="Apple-tab-span">	</span>~inx.cursor(ln).speed_(rrand(1, 4.0)).color_(<span class="s2">Color</span>.rand);</p>
<p class="p6"><span class="Apple-tab-span">	</span>2.do { ~inx.trigger(~xPos + ~dist.rand, 2.0.rand).size_(0.1) };<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6">};</p>
<p class="p5"><br></p>
<p class="p6"><span class="Apple-converted-space"> </span>)</p>
<p class="p6">~inx.play;</p>
<p class="p6">~inx.stop;</p>
<p class="p5"><br></p>
<p class="p4">// the end</p>
<p class="p6">~inx.objects.postcs;<span class="s4">""</span>;<span class="Apple-converted-space"> </span></p>
<p class="p6">~inx.resetScore(<span class="s2">true</span>);<span class="Apple-converted-space"> </span></p>
<p class="p5"><br></p>
<p class="p5"><br></p>
</body>
</html>
